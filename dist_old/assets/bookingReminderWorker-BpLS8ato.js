!function(){"use strict";let e=[];const t=new Set;function n(e){try{return"flight"===e.type&&e.item?.departureTime?new Date(e.item.departureTime).getTime():"car"===e.type&&e.item?.pickupDate?new Date(e.item.pickupDate).getTime():new Date(e.bookingDate).getTime()}catch{return null}}self.onmessage=t=>{const n=t.data;"SET_BOOKINGS"===n?.type&&(e=n.bookings||[])},setInterval(function(){const i=Date.now()+864e5;for(const o of e){const e=n(o);if(!e)continue;const a=e-i;Math.abs(a)<=18e5&&!t.has(o.id)&&(t.add(o.id),self.postMessage({type:"REMINDER",bookingId:o.id,bookingType:o.type}))}},6e4)}();
